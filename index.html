<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Pac-Man Arcade</title>
<style>
body {
  background: #5c1a2b;
  font-family: monospace;
  text-align: center;
  color: #4a0015;
}
#screen {
  background: #ff9bb3;
  border: 12px solid #4a0015;
  width: 320px;
  margin: 20px auto;
  padding: 10px;
  position: relative;
}
canvas {
  background: #ff9bb3;
  display: block;
  margin: auto;
}
.controls button {
  font-size: 20px;
  padding: 12px;
  margin: 4px;
  background: #ff6f91;
  border: 2px solid #4a0015;
  color: #4a0015;
  border-radius: 4px;
}
</style>
</head>
<body>

<h2>Valentine Pac-Man Quest</h2>
<div id="screen">
  <div>Score: <span id="score">0</span> | Lives: <span id="lives">3</span></div>
  <canvas id="game" width="320" height="320"></canvas>
</div>

<div class="controls">
  <div><button onclick="setDirection(0,-1)">▲</button></div>
  <div>
    <button onclick="setDirection(-1,0)">◀</button>
    <button onclick="setDirection(1,0)">▶</button>
  </div>
  <div><button onclick="setDirection(0,1)">▼</button></div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");
const livesEl = document.getElementById("lives");
const grid = 16;

// Game variables
let score = 0;
let lives = 3;
let player = {x:1, y:1, dx:0, dy:0};
let beatFrame = 0;
let mouthOpen = true;

// Maze layout: 0 = empty, 1 = wall
const maze = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],
  [1,0,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,0,0,1],
  [1,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1],
  [1,0,1,1,1,0,0,1,1,1,0,1,0,1,1,1,1,0,0,1],
